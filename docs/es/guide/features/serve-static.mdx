# Servidor Estático

import { Tab, Tabs } from '@rspress/core/theme';

Middleware que sirve archivos estáticos o archivos incrustados. Para la API específica, consulta la [documentación](https://docs.rs/salvo_extra/latest/salvo_extra/request_id/index.html).

## Casos de Uso
El servicio de archivos estáticos tiene amplias aplicaciones en aplicaciones web:
- Proporcionar recursos estáticos del sitio web como archivos CSS, JavaScript, imágenes, etc.
- Hospedar aplicaciones de una sola página (SPA)
- Distribuir documentos, archivos multimedia, contenido para descarga, etc.
- Funcionar como solución completa de alojamiento para sitios web simples

## Funcionalidades Principales

- `StaticDir` proporciona soporte para carpetas locales estáticas. Puede tomar una lista de múltiples carpetas como parámetros. Por ejemplo:

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/static-dir-list/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/static-dir-list/Cargo.toml"
  ```
  </Tab>
</Tabs>
  Si no se encuentra el archivo correspondiente en la primera carpeta, se buscará en la segunda.

`StaticDir` prioriza el envío de archivos comprimidos cuando existen. Por ejemplo, si existen los archivos `index.html`, `index.html.gz`, `index.html.zst`, `index.html.br`, entonces `index.html.gz`, `index.html.zst`, `index.html.br` se consideran versiones precomprimidas de `index.html` y se enviará el archivo comprimido correspondiente según la información de la solicitud.

- Proporciona soporte para `rust-embed`. Por ejemplo:

## Ventajas y Desventajas de rust-embed

**Ventajas:**
- Compila archivos estáticos en el binario, simplificando el despliegue
- No requiere gestión separada de archivos estáticos en producción
- Posible mejora de rendimiento (acceso a memoria vs I/O de disco)
- Mayor seguridad, los archivos no pueden modificarse accidentalmente

**Desventajas:**
- Aumenta el tamaño del binario de la aplicación
- Actualizar contenido estático requiere recompilar y desplegar toda la aplicación
- No es adecuado para contenido estático grande que cambia con frecuencia

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/static-embed-files/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/static-embed-files/Cargo.toml"
  ```
  </Tab>
</Tabs>

Puedes configurar la página por defecto con `default`. `with_fallback` y `fallback` permiten especificar un archivo alternativo cuando no se encuentra el solicitado, lo cual es útil para ciertas aplicaciones web de una sola página.
{/* Auto generated, origin file hash:42f7ce7c0dec48cc37b3300fbc400bb8 */}