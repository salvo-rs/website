# Traffic Control

Middleware, das Traffic-Control-Funktionalität bereitstellt.

import { Tab, Tabs } from '@rspress/core/theme';

## Hauptfunktionen

* `RateIssuer` bietet eine Abstraktion für die Zuweisung von Schlüsseln zur Identifizierung von Besuchern. `RemoteIpIssuer` ist eine Implementierung davon, die Besucher anhand der IP-Adresse der Anfrage bestimmen kann. Der Schlüssel muss nicht unbedingt ein String sein; jeder Typ, der die Einschränkungen `Hash + Eq + Send + Sync + 'static` erfüllt, kann als Schlüssel verwendet werden.

* `RateGuard` bietet eine Abstraktion für Traffic-Control-Algorithmen. Standardmäßig sind zwei Implementierungen vorhanden: Festes Fenster (`FixedGuard`) und Gleitendes Fenster (`SlidingGuard`).

* `RateStore` bietet Lese- und Schreiboperationen für Daten. `MokaStore` ist eine integrierte, speicherbasierte Cache-Implementierung auf Basis von `moka`. Sie können auch Ihre eigene Implementierung definieren.

* `RateLimiter` ist eine Struktur, die `Handler` implementiert. Sie enthält intern auch ein `skipper`-Feld, mit dem Anfragen angegeben werden können, die nicht zwischengespeichert werden müssen. Standardmäßig wird `none_skipper` verwendet, der keine Anfragen überspringt.

* `QuotaGetter` bietet eine Abstraktion für die Kontingentbeschaffung. Basierend auf dem `Key` des Besuchers kann ein Kontingentobjekt abgerufen werden. Das bedeutet, dass wir Benutzerkontingente und ähnliche Informationen in einer Datenbank konfigurieren und dynamisch ändern sowie abrufen können.

_**Beispielcode**_

### Beispiel für statisches Kontingent

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/rate-limiter-static/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/rate-limiter-static/Cargo.toml"
  ```
  </Tab>
</Tabs>

### Beispiel für dynamisches Kontingent

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/rate-limiter-dynamic/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/rate-limiter-dynamic/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:3d248fa793d9b3aab28760c03d743c7a */}