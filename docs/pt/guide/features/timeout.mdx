import { Tab, Tabs } from '@rspress/core/theme';

# Middleware de Timeout

Fornece middleware com suporte a timeout.

## Cenários de Uso

Em serviços web, algumas requisições podem demorar muito para serem processadas devido a vários motivos (como consultas lentas ao banco de dados, respostas lentas de serviços externos, etc.). Para evitar que essas requisições de longa duração ocupem recursos do servidor e afetem o processamento de outras requisições, pode-se usar o middleware de timeout para definir um tempo máximo de processamento. Se esse limite for excedido, a requisição será automaticamente interrompida e retornará um erro de timeout.

_**Código de Exemplo**_

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/timeout/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/timeout/Cargo.toml"
  ```
  </Tab>
</Tabs>

No exemplo acima, criamos duas funções de processamento: uma `fast` que responde rapidamente e uma `slow` que demora 6 segundos para responder. Através de `Timeout::new(Duration::from_secs(5))`, definimos um limite de timeout de 5 segundos para todas as requisições. Ao acessar o caminho `/slow`, como o tempo de processamento excede o limite de 5 segundos, a requisição atingirá o timeout; já ao acessar o caminho `/fast`, a requisição será processada normalmente e retornará o resultado.
{/* 本行由工具自动生成,原文哈希值:f830ce34e2005274bbd246ff55e7c47e */}