# Control de Tráfico

Middleware que proporciona funcionalidad de control de tráfico.

import { Tab, Tabs } from '@rspress/core/theme';

## Funcionalidades Principales

* `RateIssuer` proporciona una abstracción para asignar claves que identifican a los visitantes. `RemoteIpIssuer` es una implementación que determina al visitante basándose en la dirección IP de la solicitud. La clave no necesariamente debe ser de tipo cadena; cualquier tipo que cumpla con las restricciones `Hash + Eq + Send + Sync + 'static` puede utilizarse como clave.

* `RateGuard` ofrece una abstracción para algoritmos de control de tráfico. Se implementan por defecto dos métodos: ventana fija (`FixedGuard`) y ventana deslizante (`SlidingGuard`).

* `RateStore` proporciona operaciones de almacenamiento y recuperación de datos. `MokaStore` es una implementación incorporada de caché en memoria basada en `moka`. También puedes definir tu propia implementación.

* `RateLimiter` es una estructura que implementa `Handler`, y contiene internamente un campo `skipper` que permite especificar solicitudes que no requieren caché. Por defecto, utiliza `none_skipper`, que no omite ninguna solicitud.

* `QuotaGetter` ofrece una abstracción para obtener cuotas, permitiendo recuperar un objeto de cuota basado en la `Key` del visitante. Esto significa que podemos configurar información como cuotas de usuario en una base de datos, modificándola y obteniéndola dinámicamente.

_**Código de Ejemplo**_ 

### Ejemplo de Cuota Estática

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/rate-limiter-static/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/rate-limiter-static/Cargo.toml"
  ```
  </Tab>
</Tabs>

### Ejemplo de Cuota Dinámica

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/rate-limiter-dynamic/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/rate-limiter-dynamic/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:3d248fa793d9b3aab28760c03d743c7a */}