import { Tab, Tabs } from '@rspress/core/theme';

# Middleware di Timeout

Fornisce un middleware per la gestione dei timeout.

## Casi d'uso

Nei servizi web, alcune richieste potrebbero richiedere tempi di elaborazione prolungati per vari motivi (come query di database lente, risposte lente da servizi esterni, ecc.). Per evitare che queste richieste a lunga esecuzione occupino risorse del server e influenzino l'elaborazione di altre richieste, è possibile utilizzare il middleware di timeout per impostare un limite massimo di tempo di elaborazione per le richieste. Superato questo limite temporale, la richiesta verrà interrotta automaticamente e verrà restituito un errore di timeout.

_**Codice di esempio**_ 

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/timeout/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/timeout/Cargo.toml"
  ```
  </Tab>
</Tabs>

Nell'esempio sopra, abbiamo creato due funzioni di gestione: una `fast` che risponde rapidamente e una `slow` che risponde con un ritardo di 6 secondi. Utilizzando `Timeout::new(Duration::from_secs(5))`, abbiamo impostato un limite di timeout di 5 secondi per tutte le richieste. Quando si accede al percorso `/slow`, poiché il tempo di elaborazione supera il limite di 5 secondi, la richiesta andrà in timeout; mentre quando si accede al percorso `/fast`, la richiesta verrà elaborata normalmente e restituirà il risultato.
{/* Auto generated, origin file hash:f830ce34e2005274bbd246ff55e7c47e */}