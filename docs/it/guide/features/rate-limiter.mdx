# Controllo del Traffico

Middleware che fornisce funzionalità di controllo del traffico.

import { Tab, Tabs } from '@rspress/core/theme';

## Funzionalità Principali

* `RateIssuer` fornisce un'astrazione per l'identificazione della chiave del visitatore assegnata. `RemoteIpIssuer` ne è un'implementazione, in grado di determinare il visitatore in base all'indirizzo IP della richiesta. La chiave non è necessariamente di tipo stringa; qualsiasi tipo che soddisfi i vincoli `Hash + Eq + Send + Sync + 'static` può essere utilizzato come chiave.

* `RateGuard` fornisce un'astrazione per l'algoritmo di controllo del traffico. Sono implementate di default due modalità: finestra fissa (`FixedGuard`) e finestra scorrevole (`SlidingGuard`).

* `RateStore` fornisce operazioni di accesso e memorizzazione dei dati. `MokaStore` è un'implementazione predefinita di cache in memoria basata su `moka`. È possibile definire anche implementazioni personalizzate.

* `RateLimiter` è una struttura che implementa `Handler`, contenente internamente anche un campo `skipper` per specificare le richieste che non necessitano di cache. Per impostazione predefinita, viene utilizzato `none_skipper`, che non salta alcuna richiesta.

* `QuotaGetter` fornisce un'astrazione per l'ottenimento delle quote, consentendo di recuperare un oggetto quota in base alla chiave (`Key`) del visitatore. Ciò significa che è possibile configurare informazioni come le quote utente in un database, modificarle dinamicamente e recuperarle in tempo reale.

_**Codice di Esempio**_

### Esempio di Quota Statiche

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/rate-limiter-static/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/rate-limiter-static/Cargo.toml"
  ```
  </Tab>
</Tabs>

### Esempio di Quota Dinamiche

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/rate-limiter-dynamic/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/rate-limiter-dynamic/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:3d248fa793d9b3aab28760c03d743c7a */}