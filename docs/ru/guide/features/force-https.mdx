# Принудительное использование HTTPS

Промежуточное ПО `force-https` может перенаправлять все запросы для использования протокола HTTPS.

Если это промежуточное ПО применяется к `Router`, оно будет принудительно выполнять перенаправление протокола только при совпадении маршрута. Если страница не существует, перенаправление не произойдет.

Однако более распространенным требованием является автоматическое перенаправление любого запроса, даже когда маршрут не совпадает и возвращает ошибку `404`. В таких случаях промежуточное ПО можно добавить в `Service`. Промежуточное ПО, добавленное в `Service`, всегда будет выполняться, независимо от того, успешно ли запрос совпал с маршрутом.

_**Пример кода**_ 

import { Tab, Tabs } from '@rspress/core/theme';

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/force-https/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/force-https/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:b53a7da9c3e5aa9c04fb32a1b8982f0f */}