import { Tab, Tabs } from '@rspress/core/theme';

# Middleware de Tiempo de Espera

Proporciona middleware con soporte para tiempos de espera.

## Casos de Uso

En servicios web, ciertas solicitudes pueden prolongarse debido a diversas razones (como consultas lentas a bases de datos, respuestas lentas de servicios externos, etc.). Para evitar que estas solicitudes de larga duración consuman recursos del servidor y afecten el procesamiento de otras solicitudes, se puede utilizar el middleware de tiempo de espera para establecer un límite máximo de tiempo de procesamiento. Si se excede este límite, la solicitud se interrumpirá automáticamente y se devolverá un error de tiempo de espera.

_**Código de Ejemplo**_ 

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/timeout/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/timeout/Cargo.toml"
  ```
  </Tab>
</Tabs>

En el ejemplo anterior, creamos dos funciones de manejo: una `fast` que responde rápidamente y otra `slow` que tarda 6 segundos en responder. Mediante `Timeout::new(Duration::from_secs(5))`, establecemos un límite de tiempo de espera de 5 segundos para todas las solicitudes. Al acceder a la ruta `/slow`, la solicitud superará el tiempo de espera debido a que el tiempo de procesamiento excede el límite de 5 segundos; mientras que al acceder a la ruta `/fast`, la solicitud se procesará normalmente y devolverá un resultado.
{/* Auto generated, origin file hash:f830ce34e2005274bbd246ff55e7c47e */}