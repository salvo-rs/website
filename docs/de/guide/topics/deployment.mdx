# Anwendungen bereitstellen

Ein Salvo-Projekt wird nach der Kompilierung zu einer ausführbaren Datei. Für die Bereitstellung müssen Sie lediglich diese ausführbare Datei zusammen mit den abhängigen statischen Ressourcen auf den Server hochladen.

Für Rust-basierte Projekte gibt es auch eine sehr einfache Bereitstellungsplattform: [shuttle.rs](https://www.shuttle.rs). Shuttle bietet Unterstützung für Salvo-ähnliche Projekte. Einzelheiten finden Sie in der [offiziellen Dokumentation](https://docs.shuttle.rs/guide/salvo-examples.html).

## Docker-Bereitstellung

Sie können auch Docker verwenden, um Salvo-Anwendungen bereitzustellen. Nachfolgend finden Sie ein grundlegendes Beispiel für eine `Dockerfile`, die Sie entsprechend den Anforderungen Ihres Projekts anpassen können:

```dockerfile
# Build-Stufe
FROM rust:slim AS build
WORKDIR /app

# Zuerst Abhängigkeitsdateien kopieren, um Abhängigkeiten zu bauen (Cache-Layer nutzen)
COPY Cargo.toml Cargo.lock ./
RUN mkdir src && \
    echo 'fn main() { println!("Platzhalter"); }' > src/main.rs && \
    cargo build --release

# Tatsächlichen Quellcode kopieren und Anwendung bauen
COPY src ./src/
RUN touch src/main.rs && \
    cargo build --release

# Leichtgewichtiges Basis-Image für die Laufzeit-Stufe verwenden
FROM debian:bookworm-slim
RUN apt-get update && \
    apt-get install -y --no-install-recommends ca-certificates && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Nicht-Root-Benutzer zum Ausführen der Anwendung erstellen
RUN useradd -ms /bin/bash appuser
USER appuser
WORKDIR /app

# Binärdatei aus der Build-Stufe kopieren
COPY --from=build /app/target/release/ihr_app_name ./app

# Container-Startbefehl festlegen
CMD ["./app"]
```

### Nutzungshinweise

1. Speichern Sie die obige `Dockerfile` im Stammverzeichnis Ihres Projekts.
2. Passen Sie `ihr_app_name` entsprechend dem tatsächlichen Namen Ihrer Binärdatei an.
3. Wenn Ihre Anwendung statische Dateien benötigt (z.B. Templates, CSS, JS usw.), können Sie entsprechende `COPY`-Befehle hinzufügen.
4. Wenn Ihre Anwendung Umgebungsvariablen benötigt, können Sie die `ENV`-Anweisung verwenden.
5. Docker-Image bauen:
   ```bash
   docker build -t ihr-app-name .
   ```
6. Container ausführen:
   ```bash
   docker run -p 8698:8698 ihr-app-name
   ```

Bitte passen Sie die Portnummer und andere Konfigurationen entsprechend den tatsächlichen Anforderungen Ihrer Anwendung an.
{/* Auto generated, origin file hash:20851c6331f7ab1d3f03251a44776b3e */}