import { Tab, Tabs } from '@rspress/core/theme';

# Quick Start

## Install Rust
If you haven't installed Rust yet, you can use the official (`rustup`)[https://doc.rust-lang.org/book/ch01-01-installation.html] to install Rust.

:::tip
The minimum supported Rust version for Salvo is 1.85. Run `rustup update` to ensure you have a compatible Rust version installed.
:::

## Write Your First Salvo Program

Create a new project:

```bash
cargo new hello --bin
```

Add dependencies to `Cargo.toml`:

```toml file="<root>/codes/hello/Cargo.toml"
```

In `main.rs`, create a simple function handler named `hello`, which simply prints the text `"Hello world"`.

```rust file="<root>/codes/hello/src/main.rs"
```

Congratulations! Your first Salvo program is complete. Just run `cargo run` in the command line, then open `http://127.0.0.1:5800` in your browser.

## Detailed Explanation

Here, `hello_world` is a `Handler` used to process user requests. The `#[handler]` attribute allows a function to conveniently implement the `Handler` trait. Moreover, it enables us to write function parameters in various simplified ways.

- Original form:

    ```rust
    #[handler]
    async fn hello(_req: &mut Request, _depot: &mut Depot, res: &mut Response, _ctrl: &mut FlowCtrl) {
        res.render("Hello world");
    }
    ```

- You can omit unused parameters in the function. For example, `_req`, `_depot`, and `_ctrl` are not used here and can be omitted entirely:

    ```rust
    #[handler]
    async fn hello(res: &mut Response) {
        res.render("Hello world");
    }
    ```

- Any type can be used as the function's return type as long as it implements the `Writer` trait. For instance, `&str` implements `Writer`, and when returned, it prints plain text:

    ```rust
    #[handler]
    async fn hello(res: &mut Response) -> &'static str {
        "Hello world"
    }
    ```

- More commonly, we need to use `Result<T, E>` as the return type to handle errors during function execution. If both `T` and `E` implement `Writer`, then `Result<T, E>` can be used as a return value:

    ```rust
    #[handler]
    async fn hello(res: &mut Response) -> Result<&'static str, ()> {
        Ok("Hello world")
    }
    ```

## Sleek HTTP3

They say HTTP3 is as agile as a swallow, a dream many programmers have longed for but couldn't achieve. This time, Salvo makes it happen, allowing everyone to effortlessly enjoy the wonderful services brought by HTTP3!

First, enable the HTTP3 feature in `Cargo.toml`, then modify `main.rs` as follows:

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/hello-h3/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/hello-h3/Cargo.toml"
  ```
  </Tab>
</Tabs>

## Salvo CLI Tool ðŸ› ï¸

[Salvo CLI](https://github.com/salvo-rs/salvo-cli) is a tool designed for the Salvo web framework. It helps create clean, readable code, saving your time for more interesting things in life.

If you have ideas for improving the CLI or notice issues that need fixing, don't hesitate! Submit an issueâ€”we welcome your insights.

### Step 1

Install the CLI tool:

```bash
cargo install salvo-cli
```

### Step 2

> Create a new Salvo project using the `new` command followed by your project name:
>
> ```bash
> salvo new project_name
> ```

With this simple CLI tool, you can quickly set up a Salvo project, allowing you to focus on implementing your business logic rather than project structure setup. âœ¨

## More Examples

It's recommended to clone the Salvo repository directly and run the examples in the `examples` directory. For instance, the following command runs the `hello` example:

```sh
git clone https://github.com/salvo-rs/salvo
cd salvo/examples
cargo run --bin example-hello
```

There are many examples in the `examples` directory. You can run them using commands like `cargo run --bin example-<name>`.
{/* Auto generated, origin file hash:0c4a88ceb8e2d80be891a10caa082999 */}