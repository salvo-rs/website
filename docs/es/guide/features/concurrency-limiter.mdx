import { Tab, Tabs } from '@rspress/core/theme';

# Limitación de Concurrencia

El middleware Limitador de Concurrencia puede controlar el número de solicitudes simultáneas. Para detalles específicos de la API, por favor [consulte la documentación](https://docs.rs/salvo_extra/latest/salvo_extra/concurrency_limiter/index.html).

## Escenarios de Aplicación

El limitador de concurrencia es particularmente útil en los siguientes escenarios:

- **Protección de Sitios Web con Alto Tráfico**: Limita el número de solicitudes procesadas simultáneamente durante picos de tráfico para evitar la sobrecarga del servidor.
- **Control de Operaciones Intensivas en Recursos**: Restringe la concurrencia para operaciones que consumen muchos recursos, como subidas de archivos y escrituras en bases de datos.
- **Limitación de Llamadas a APIs de Terceros**: Controla el número de solicitudes simultáneas al llamar a servicios externos con límites de tasa.

## Funciones Principales

- **Prevenir la Sobrecarga del Servidor**: Mantiene la estabilidad del servidor durante picos de tráfico al limitar las solicitudes concurrentes.
- **Mejorar la Fiabilidad del Sistema**: Evita caídas del sistema causadas por el agotamiento de recursos.
- **Optimizar la Asignación de Recursos**: Asegura que los servicios críticos tengan recursos suficientes para manejar las solicitudes.

## Uso

Simplemente agregue el middleware `max_concurrency(n)` a su ruta, donde `n` es el número máximo de solicitudes simultáneas permitidas. Las solicitudes que excedan este límite recibirán una respuesta `503 Servicio No Disponible`.

_**Código de Ejemplo**_

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/concurrency-limiter/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/concurrency-limiter/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:eb0d1d053dfdeefd6150fb9fd7bb825f */}