# Dati Condivisi dello Stato Affisso nelle Richieste

import { Tab, Tabs } from '@rspress/core/theme';

Il middleware Affix State viene utilizzato per aggiungere dati condivisi al Depot.
Per utilizzare la funzionalità Affix State, è necessario abilitare la feature `affix-state` nel file Cargo.toml.

## Analisi della Funzionalità
Affix State fornisce un modo semplice per condividere dati durante l'elaborazione delle richieste. Ti permette di:

- Iniettare configurazioni globali o dati condivisi durante la configurazione delle route
- Accedere a questi dati tramite il Depot in qualsiasi gestore
- Supportare qualsiasi tipo clonabile come dati di stato

## Confronto con Altri Framework per una Comprensione Rapida del Concetto
| Framework | Linguaggio | Approccio alla Gestione dello Stato |
|-----------|----------|---------------------------|
| Salvo (Affix State) | Rust | Memorizza e accede tramite Depot, supporta più tipi |
| Axum | Rust | Memorizza lo stato tramite Extension, simile ma con utilizzo diverso |
| Actix-web | Rust | Utilizza App Data e Web::Data per condividere lo stato |
| Gin | Go | Utilizza context.Set e context.Get per memorizzare e recuperare dati |
| Echo | Go | Utilizza context.Set e context.Get per gestire lo stato condiviso |
| Spring | Java | Utilizza ApplicationContext o annotazioni @Bean per la gestione delle dipendenze |
| Quarkus | Java | Utilizza meccanismi CDI e dependency injection |
| Express.js | JavaScript | Utilizza app.locals o req.app.locals per memorizzare lo stato globale |
| Nest.js | JavaScript | Utilizza un sistema di dependency injection per gestire servizi condivisi |
| Koa.js | JavaScript | Utilizza ctx.state per memorizzare lo stato a livello di richiesta |

## Casi d'Uso Comuni

- Condivisione del pool di connessioni al database
- Condivisione della configurazione dell'applicazione
- Condivisione di istanze di cache
- Condivisione di client API
- Tracciamento di contatori o stato globali

Il vantaggio di Affix State risiede nella sua semplicità e flessibilità, consentendo di condividere facilmente qualsiasi tipo di dati tra diverse route e gestori senza codice ripetitivo esteso.
_**Codice di Esempio**_

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/affix-state/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/affix-state/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:ab33e7002b7895dc8f4c574665f3af4f */}