# Affix State – Gemeinsame Daten in Anfragen

import { Tab, Tabs } from '@rspress/core/theme';

Die Affix-State-Middleware wird verwendet, um gemeinsame Daten zum Depot hinzuzufügen.
Um die Affix-State-Funktion zu nutzen, müssen Sie das Feature `affix-state` in der Cargo.toml aktivieren.

## Funktionsanalyse
Affix State bietet eine einfache Möglichkeit, Daten während der Anfrageverarbeitung zu teilen. Es ermöglicht Ihnen:

- Globale Konfigurationen oder gemeinsame Daten während der Routenkonfiguration einzufügen
- Auf diese Daten über das Depot in jedem Handler zuzugreifen
- Jeden klonbaren Typ als Zustandsdaten zu unterstützen

## Vergleich mit anderen Frameworks zum schnellen Konzeptverständnis
| Framework | Sprache | Ansatz zur Zustandsverwaltung |
|-----------|----------|---------------------------|
| Salvo (Affix State) | Rust | Speichert und greift über Depot zu, unterstützt mehrere Typen |
| Axum | Rust | Speichert Zustand über Extension, ähnlich aber mit anderer Verwendung |
| Actix-web | Rust | Nutzt App Data und Web::Data zum Teilen von Zuständen |
| Gin | Go | Verwendet context.Set und context.Get zum Speichern und Abrufen von Daten |
| Echo | Go | Nutzt context.Set und context.Get zur Verwaltung gemeinsamer Zustände |
| Spring | Java | Verwendet ApplicationContext oder @Bean-Annotationen zur Abhängigkeitsverwaltung |
| Quarkus | Java | Nutzt CDI und Dependency-Injection-Mechanismen |
| Express.js | JavaScript | Verwendet app.locals oder req.app.locals zum Speichern globaler Zustände |
| Nest.js | JavaScript | Nutzt ein Dependency-Injection-System zur Verwaltung gemeinsamer Dienste |
| Koa.js | JavaScript | Verwendet ctx.state zum Speichern von anfragebezogenen Zuständen |

## Typische Anwendungsfälle

- Gemeinsame Nutzung von Datenbankverbindungspools
- Teilen von Anwendungskonfigurationen
- Gemeinsame Nutzung von Cache-Instanzen
- Teilen von API-Clients
- Globale Zähler oder Zustandsverfolgung

Der Vorteil von Affix State liegt in seiner Einfachheit und Flexibilität, die es ermöglicht, jeden Datentyp problemlos über verschiedene Routen und Handler hinweg zu teilen, ohne umfangreichen Boilerplate-Code.
_**Beispielcode**_

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/affix-state/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/affix-state/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:ab33e7002b7895dc8f4c574665f3af4f */}