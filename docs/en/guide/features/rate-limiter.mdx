# Rate Limiting

Middleware providing rate limiting functionality.

import { Tab, Tabs } from '@rspress/core/theme';

## Key Features

* `RateIssuer` provides an abstraction for identifying visitor keys. `RemoteIpIssuer` is one of its implementations, which determines visitors based on their IP addresses. Keys are not necessarily strings; any type satisfying the `Hash + Eq + Send + Sync + 'static` constraints can serve as a key.

* `RateGuard` offers an abstraction for rate limiting algorithms. Default implementations include fixed window (`FixedGuard`) and sliding window (`SlidingGuard`).

* `RateStore` provides data storage operations. `MokaStore` is a built-in in-memory cache implementation based on `moka`. You can also define your own implementation.

* `RateLimiter` is a struct implementing `Handler`, which includes a `skipper` field to specify requests that should bypass rate limiting. By default, `none_skipper` is used, meaning no requests are skipped.

* `QuotaGetter` provides an abstraction for retrieving quotas. It fetches a quota object based on the visitor's `Key`, allowing user quotas and other configurations to be stored in databases and dynamically modified or retrieved.

_**Example Code**_ 

### Static Quota Example

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/rate-limiter-static/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/rate-limiter-static/Cargo.toml"
  ```
  </Tab>
</Tabs>

### Dynamic Quota Example

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/rate-limiter-dynamic/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/rate-limiter-dynamic/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:3d248fa793d9b3aab28760c03d743c7a */}