# Server Statico

import { Tab, Tabs } from '@rspress/core/theme';

Middleware che fornisce file statici o incorporati come servizio. Per le API specifiche, consultare la [documentazione](https://docs.rs/salvo_extra/latest/salvo_extra/request_id/index.html).

## Casi d'Uso
Il servizio di file statici ha ampie applicazioni nelle applicazioni web:
- Fornire risorse statiche del sito come file CSS, JavaScript, immagini, ecc.
- Ospitare applicazioni a pagina singola (SPA)
- Distribuire documenti, file multimediali, contenuti scaricabili, ecc.
- Servire come soluzione di hosting completa per siti web semplici

## Funzionalità Principali

- `StaticDir` fornisce supporto per cartelle locali statiche. È possibile passare un elenco di più cartelle come parametro. Ad esempio:

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/static-dir-list/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/static-dir-list/Cargo.toml"
  ```
  </Tab>
</Tabs>
  Se il file corrispondente non viene trovato nella prima cartella, la ricerca procederà nella seconda.

`StaticDir` supporta l'invio prioritario di file compressi, se presenti. Ad esempio, se esistono i file `index.html`, `index.html.gz`, `index.html.zst`, `index.html.br`, allora `index.html.gz`, `index.html.zst`, `index.html.br` sono considerati versioni precompresse di `index.html`. In base alle informazioni della richiesta, verrà inviato il file compresso corrispondente.

- Fornisce supporto per `rust-embed`, ad esempio:

## Vantaggi e Svantaggi di rust-embed

**Vantaggi:**
- Compila i file statici nel binario, semplificando il processo di distribuzione
- Non richiede la gestione separata dei file statici in ambienti di produzione
- Possibile miglioramento delle prestazioni (accesso in memoria vs I/O del disco)
- Maggiore sicurezza, i file non possono essere modificati accidentalmente

**Svantaggi:**
- Aumenta la dimensione del file binario dell'applicazione
- L'aggiornamento dei contenuti statici richiede la ricompilazione e la ridistribuzione dell'intera applicazione
- Non adatto per contenuti statici di grandi dimensioni che cambiano frequentemente

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/static-embed-files/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/static-embed-files/Cargo.toml"
  ```
  </Tab>
</Tabs>

È possibile impostare una pagina predefinita da visualizzare tramite `default`. `with_fallback` e `fallback` consentono di specificare un file da utilizzare quando il file richiesto non viene trovato. Questo è utile per alcune applicazioni web a pagina singola (SPA).
{/* Auto generated, origin file hash:42f7ce7c0dec48cc37b3300fbc400bb8 */}