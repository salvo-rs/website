```typescript
import { Tab, Tabs } from 'rspress/theme';
import TimeoutMainCode from '../../../../codes_md/timeout/src/main.mdx';
import TimeoutCargoCode from '../../../../codes_md/timeout/Cargo.mdx';
```

# Промежуточное ПО для таймаута

Предоставляет поддержку таймаутов через промежуточное ПО.

## Сценарии использования

В веб-сервисах некоторые запросы могут выполняться слишком долго по разным причинам (например, медленные запросы к базе данных, задержки ответов внешних сервисов и т.д.). Чтобы предотвратить блокировку серверных ресурсов такими длительными запросами, которые могут повлиять на обработку других запросов, можно использовать промежуточное ПО для таймаутов, устанавливающее максимальное время выполнения. Если запрос превышает этот лимит, он автоматически прерывается с возвратом ошибки таймаута.

_**Пример кода**_

<Tabs>
<Tab label="main.rs">
<TimeoutMainCode/>
</Tab>
<Tab label="Cargo.toml">
<TimeoutCargoCode/>
</Tab>
</Tabs>

В приведенном примере созданы две функции обработки: `fast` (быстрый ответ) и `slow` (ответ с задержкой в 6 секунд). С помощью `Timeout::new(Duration::from_secs(5))` для всех запросов установлено ограничение в 5 секунд. При обращении к `/slow` запрос превысит лимит и завершится с таймаутом, тогда как `/fast` обработается нормально и вернёт результат.
{/* 本行由工具自动生成,原文哈希值:91c35a9e679382fc5ad89433063fa043 */}