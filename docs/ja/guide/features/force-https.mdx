# HTTPS強制化

`force-https`ミドルウェアは、すべてのリクエストをHTTPSプロトコルに強制的にリダイレクトします。

このミドルウェアを`Router`に適用した場合、ルートが一致したときのみプロトコル変換が強制されます。ページが存在しない状況ではリダイレクトされません。

しかし、より一般的な要件は、ルートが一致せず`404`エラーが返される場合でも、あらゆるリクエストを自動的にリダイレクトすることです。この場合、ミドルウェアを`Service`に追加します。リクエストがルートに正常に一致したかどうかに関わらず、`Service`に追加されたミドルウェアは常に実行されます。

_**サンプルコード**_ 

import { Tab, Tabs } from '@rspress/core/theme';

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/force-https/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/force-https/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* 本行由工具自动生成,原文哈希值:173e195e2060c6dc031e06200cd7106c */}