# Перехватчик

import { Tab, Tabs } from '@rspress/core/theme';

Если статус-код `Response` указывает на ошибку, а `Body` на странице пуст, Salvo попытается использовать `Catcher` для перехвата этой ошибки и отображения понятной страницы с сообщением об ошибке.

Можно использовать `Catcher::default()` для получения системного `Catcher` по умолчанию, а затем добавить его в `Service`.

```rust
use salvo::catcher::Catcher;

Service::new(router).catcher(Catcher::default());
```

Стандартный `Catcher` поддерживает отправку страниц с ошибками в форматах `XML`, `JSON`, `HTML` и `Text`.

Можно добавить пользовательскую программу обработки ошибок в `Catcher`, используя метод `hoop` для этого стандартного `Catcher`. Эта программа обработки ошибок также является `Handler`.

Вы можете добавить несколько пользовательских программ обработки ошибок в `Catcher` с помощью `hoop`. Пользовательский обработчик ошибок может пропустить последующие обработчики ошибок, вызвав метод `FlowCtrl::skip_next` после обработки ошибки, и вернуть ответ досрочно.

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/custom-error-page/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/custom-error-page/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* 本行由工具自动生成,原文哈希值:6d187ebda60dfda18718df8cd81080ad */}