import { Tab, Tabs } from '@rspress/core/theme';

# Limitazione della Concorrenza

Il middleware Limitazione della Concorrenza consente di controllare il numero di richieste simultanee. Per i dettagli specifici delle API, consultare [la documentazione](https://docs.rs/salvo_extra/latest/salvo_extra/concurrency_limiter/index.html).

## Scenari di Applicazione

Il limitatore di concorrenza risulta particolarmente utile nei seguenti scenari:

- **Protezione di Siti Web ad Alto Traffico**: Limita il numero di richieste elaborate contemporaneamente durante picchi di traffico per prevenire il sovraccarico del server.
- **Controllo di Operazioni ad Alto Consumo di Risorse**: Restringe la concorrenza per operazioni impegnative come caricamenti di file e scritture su database.
- **Limitazione delle Chiamate ad API di Terze Parti**: Controlla il numero di richieste simultanee quando si utilizzano servizi esterni con limiti di frequenza.

## Funzioni Principali

- **Prevenire il Sovraccarico del Server**: Mantiene la stabilità del server durante i picchi di traffico limitando le richieste simultanee.
- **Migliorare l'Affidabilità del Sistema**: Evita il blocco del sistema causato dall'esaurimento delle risorse.
- **Ottimizzare l'Allocazione delle Risorse**: Garantisce che i servizi critici dispongano di risorse sufficienti per gestire le richieste.

## Utilizzo

È sufficiente aggiungere il middleware `max_concurrency(n)` alla propria rotta, dove `n` rappresenta il numero massimo di richieste simultanee consentite. Le richieste che superano questo limite riceveranno una risposta `503 Servizio Non Disponibile`.

_**Codice di Esempio**_

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/concurrency-limiter/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/concurrency-limiter/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:eb0d1d053dfdeefd6150fb9fd7bb825f */}