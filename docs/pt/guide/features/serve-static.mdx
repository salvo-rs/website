# Servidor Estático

import { Tab, Tabs } from '@rspress/core/theme';

Middleware que serve arquivos estáticos ou arquivos embutidos. Para a API detalhada, por favor [consulte a documentação](https://docs.rs/salvo_extra/latest/salvo_extra/request_id/index.html).

## Casos de Uso
Servidores de arquivos estáticos têm uma ampla gama de aplicações no desenvolvimento web:
- Servir recursos estáticos para sites, como CSS, JavaScript, imagens, etc.
- Hospedar Aplicações de Página Única (SPAs)
- Distribuir documentos, arquivos de mídia, conteúdo para download, etc.
- Servir como uma solução completa de hospedagem para sites simples

## Principais Funcionalidades

- `StaticDir` fornece suporte para servir arquivos estáticos a partir de diretórios locais. Pode aceitar uma lista de múltiplos diretórios como parâmetros. Por exemplo:

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/static-dir-list/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/static-dir-list/Cargo.toml"
  ```
  </Tab>
</Tabs>
  Se um arquivo não for encontrado no primeiro diretório, será procurado no segundo diretório.

`StaticDir` suporta servir arquivos pré-comprimidos quando disponíveis. Por exemplo, se existirem arquivos como `index.html`, `index.html.gz`, `index.html.zst` e `index.html.br`, então `index.html.gz`, `index.html.zst` e `index.html.br` são considerados versões pré-comprimidas de `index.html`. O arquivo comprimido apropriado será servido com base nas informações da requisição.

- Fornece suporte para `rust-embed`. Por exemplo:

## Prós e Contras do rust-embed

**Prós:**
- Compila arquivos estáticos no binário, simplificando a implantação.
- Não é necessário gerenciar arquivos estáticos separadamente em ambientes de produção.
- Potencialmente melhor desempenho (acesso à memória vs. I/O de disco).
- Segurança aprimorada, pois os arquivos não podem ser modificados acidentalmente.

**Contras:**
- Aumenta o tamanho do binário da aplicação.
- Atualizar conteúdo estático requer recompilar e reimplantar toda a aplicação.
- Não é adequado para conteúdo estático grande que muda frequentemente.

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/static-embed-files/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/static-embed-files/Cargo.toml"
  ```
  </Tab>
</Tabs>

Você pode definir uma página padrão para exibir usando a opção `default`. Os métodos `with_fallback` e `fallback` permitem especificar um arquivo de fallback para servir quando um arquivo solicitado não for encontrado, o que é útil para certas aplicações de sites de página única.
{/* Auto generated, origin file hash:073ef52649e7c613a5829d94d56d9114 */}