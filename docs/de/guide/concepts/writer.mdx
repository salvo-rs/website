# Writer

`Writer` dient dazu, Inhalte in die `Response` zu schreiben:

```rust
#[async_trait]
pub trait Writer {
    async fn write(mut self, req: &mut Request, depot: &mut Depot, res: &mut Response);
}
```

Im Vergleich zum Handler:

```rust
#[async_trait]
pub trait Handler: Send + Sync + 'static {
    async fn handle(&self, req: &mut Request, depot: &mut Depot, res: &mut Response, ctrl: &mut FlowCtrl);
}
```

Die wesentlichen Unterschiede sind:
- Unterschiedlicher Verwendungszweck: `Writer` repräsentiert das Schreiben konkreter Inhalte in die `Response`, implementiert durch spezifische Inhalte wie Zeichenketten, Fehlermeldungen usw. Der `Handler` hingegen dient der Verarbeitung der gesamten Anfrage.
- `Writer` wird innerhalb des `Handler` erstellt und verbraucht sich selbst beim Aufruf der `write`-Funktion, es handelt sich um einen einmaligen Aufruf. Der `Handler` wird dagegen von allen Anfragen gemeinsam genutzt.
- `Writer` kann als Inhalt im zurückgegebenen `Result` des `Handler` dienen.
- `Writer` enthält keinen `FlowCtrl`-Parameter und kann daher den Ausführungsablauf der gesamten Anfrage nicht steuern.

`Scribe` implementiert `Writer`, bietet jedoch weniger Funktionalität als `Writer`:

```rust
pub trait Scribe {
    fn render(self, res: &mut Response);
}
```

Die Render-Funktion von `Scribe` schreibt lediglich Daten in die `Response`, ohne dabei Informationen aus `Request` oder `Depot` abrufen zu können.
{/* 本行由工具自动生成,原文哈希值:a88019b69f080567caf2af39cb1d17e5 */}