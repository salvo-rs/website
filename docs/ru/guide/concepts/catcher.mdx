# Перехватчик (Catcher)

import { Tab, Tabs } from 'rspress/theme';
import CustomErrorPageCode from '../../../../codes_md/custom-error-page/src/main.mdx';
import CustomErrorPageCargoCode from '../../../../codes_md/custom-error-page/Cargo.mdx';

Если `Response` имеет код состояния ошибки, а `Body` страницы пуст, Salvo попытается использовать `Catcher` для перехвата этой ошибки и отображения удобной страницы с сообщением об ошибке.

Вы можете получить стандартный `Catcher` с помощью `Catcher::default()`, а затем добавить его в `Service`.

```rust
use salvo::catcher::Catcher;

Service::new(router).catcher(Catcher::default());
```

Стандартный `Catcher` поддерживает отправку страниц с ошибками в форматах `XML`, `JSON`, `HTML` и `Text`.

Вы можете добавить собственные обработчики ошибок в `Catcher` через метод `hoop`. Эти обработчики по-прежнему являются `Handler`.

С помощью `hoop` можно добавить несколько пользовательских обработчиков ошибок в `Catcher`. Пользовательский обработчик ошибок может пропустить последующие обработчики, вызвав метод `FlowCtrl::skip_next`, и завершить обработку досрочно.

<Tabs>
  <Tab label="main.rs">
    <CustomErrorPageCode/>
  </Tab>
  <Tab label="Cargo.toml">
    <CustomErrorPageCargoCode/>
  </Tab>
</Tabs>
{/* 本行由工具自动生成,原文哈希值:f904ca235acae374d6a236a1bd7a027a */}