import { Tab, Tabs } from '@rspress/core/theme';

# Parallelitätsbegrenzung

Die Middleware für Parallelitätsbegrenzung kann die Anzahl gleichzeitiger Anfragen steuern. Detaillierte API-Informationen finden Sie in der [Dokumentation](https://docs.rs/salvo_extra/latest/salvo_extra/concurrency_limiter/index.html).

## Anwendungsszenarien

Die Parallelitätsbegrenzung ist besonders nützlich in folgenden Situationen:

- **Schutz von Hochverkehrs-Websites**: Begrenzt die Anzahl gleichzeitig verarbeiteter Anfragen bei Verkehrsspitzen, um Serverüberlastung zu vermeiden.
- **Steuerung ressourcenintensiver Operationen**: Beschränkt die Parallelität bei ressourcenintensiven Vorgängen wie Datei-Uploads und Datenbank-Schreibvorgängen.
- **Begrenzung von Drittanbieter-API-Aufrufen**: Kontrolliert die Anzahl gleichzeitiger Anfragen beim Aufruf externer Dienste mit Ratenbegrenzungen.

## Hauptfunktionen

- **Verhindert Serverüberlastung**: Gewährleistet Serverstabilität während Verkehrsspitzen durch Begrenzung gleichzeitiger Anfragen.
- **Erhöht Systemzuverlässigkeit**: Vermeidet Systemabstürze durch Ressourcenerschöpfung.
- **Optimiert Ressourcenzuweisung**: Stellt sicher, dass kritische Dienste über ausreichende Ressourcen zur Anfragebearbeitung verfügen.

## Verwendung

Fügen Sie einfach die `max_concurrency(n)`-Middleware zu Ihrer Route hinzu, wobei `n` die maximal zulässige Anzahl gleichzeitiger Anfragen darstellt. Anfragen, die dieses Limit überschreiten, erhalten eine `503 Service Unavailable`-Antwort.

_**Beispielcode**_

<Tabs>
  <Tab label="main.rs">
  ```rust file="<root>/codes/concurrency-limiter/src/main.rs"
  ```
  </Tab>
  <Tab label="Cargo.toml">
  ```toml file="<root>/codes/concurrency-limiter/Cargo.toml"
  ```
  </Tab>
</Tabs>
{/* Auto generated, origin file hash:eb0d1d053dfdeefd6150fb9fd7bb825f */}