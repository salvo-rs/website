---
title: Marco de Serialización de Rust
---

# Serde: Marco de Serialización y Deserialización de Rust

[Serde](https://docs.rs/serde/latest/serde/) es una biblioteca fundamental en el ecosistema de Rust que proporciona un marco de serialización y deserialización eficiente y versátil. Su nombre proviene de la combinación de "**Ser**ialization" y "**De**serialization".

## Características Principales

- **Versatilidad**: Compatible con múltiples formatos de datos como JSON, YAML, TOML, MessagePack, etc.
- **Abstracción de costo cero**: El código generado en tiempo de compilación es tan eficiente como el escrito manualmente.
- **Flexibilidad**: Permite personalizar el comportamiento de serialización y deserialización.
- **Tipado fuerte**: Aprovecha el sistema de tipos de Rust para garantizar la integridad de los datos.
- **Amplia adopción**: Se ha convertido en la biblioteca estándar para el intercambio de datos en el ecosistema de Rust.

## Funcionamiento

El núcleo de Serde es su diseño de Representación Intermedia (Intermediate Representation), que divide el proceso de serialización y deserialización en dos pasos:

1. **Serialización**: Convierte estructuras de datos de Rust en una representación intermedia universal, luego en el formato objetivo.
2. **Deserialización**: Convierte el formato de entrada en la representación intermedia universal, luego en estructuras de datos de Rust.

Este diseño permite agregar nuevos formatos de datos sin modificar las aplicaciones que utilizan Serde.

## Uso Básico

### Configuración de Dependencias

```toml
[dependencies]
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0" # u otras bibliotecas de formato como serde_yaml, toml, etc.
```

### Uso de Macros Derivadas

El uso más común es emplear macros derivadas para implementar automáticamente los traits de serialización y deserialización para estructuras:

```rust
use serde::{Serialize, Deserialize};

#[derive(Serialize, Deserialize, Debug)]
struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let point = Point { x: 1, y: 2 };

    // Convertir Point a una cadena JSON
    let serialized = serde_json::to_string(&point).unwrap();
    println!("Resultado serializado: {}", serialized); // Salida: {"x":1,"y":2}

    // Convertir la cadena JSON de vuelta a Point
    let deserialized: Point = serde_json::from_str(&serialized).unwrap();
    println!("Resultado deserializado: {:?}", deserialized); // Salida: Point { x: 1, y: 2 }
}
```

### Personalización con Atributos

Serde proporciona atributos ricos para personalizar el comportamiento de serialización:

```rust
#[derive(Serialize, Deserialize, Debug)]
struct User {
    #[serde(rename = "user_id")]
    id: u64,
    
    #[serde(default)]
    name: String,
    
    #[serde(skip_serializing_if = "Option::is_none")]
    email: Option<String>,
    
    #[serde(skip)]
    temporary_data: usize,
}
```

### Formatos de Datos Soportados

Serde se integra con múltiples formatos de datos, cada uno con su propio crate:

- **serde_json**: Formato JSON
- **serde_yaml**: Formato YAML
- **toml**: Formato TOML
- **bincode**: Formato binario
- **postcard**: Formato binario optimizado para espacio
- **rmp/rmp-serde**: Formato MessagePack
- **ciborium**: Formato CBOR
- ...y otros formatos

## Uso Avanzado

### Implementación Manual de Traits

Para necesidades especiales, se pueden implementar manualmente los traits `Serialize` y `Deserialize`:

```rust
use serde::{Serialize, Serializer, Deserialize, Deserializer};

struct MyType {
    // campos...
}

impl Serialize for MyType {
    fn serialize<S>(&self, serializer: S) -> Result<S::Ok, S::Error>
    where
        S: Serializer,
    {
        // Lógica personalizada de serialización
    }
}

impl<'de> Deserialize<'de> for MyType {
    fn deserialize<D>(deserializer: D) -> Result<Self, D::Error>
    where
        D: Deserializer<'de>,
    {
        // Lógica personalizada de deserialización
    }
}
```

### Mapeo de Tipos

Se pueden crear mapeos entre diferentes representaciones de datos:

```rust
#[derive(Serialize, Deserialize)]
#[serde(remote = "chrono::DateTime<chrono::Utc>")]
struct DateTimeRef {
    #[serde(with = "chrono::serde::ts_seconds")]
    pub inner: chrono::DateTime<chrono::Utc>,
}
```

## Aprendizaje y Recursos

Serde es una biblioteca rica en funciones; este documento solo cubre los conceptos básicos. Para aprovechar al máximo Serde, se recomienda:

1. Visitar la [documentación oficial de Serde](https://serde.rs/) para conocer las API detalladas y ejemplos.
2. Consultar el [repositorio de GitHub](https://github.com/serde-rs/serde) para obtener el código fuente y las últimas actualizaciones.

## Conclusión

Serde, como biblioteca fundamental en el ecosistema de Rust, proporciona herramientas poderosas y flexibles para el intercambio de datos. Al dominar Serde, puede manejar fácilmente las necesidades de intercambio de datos en varios formatos, haciendo que sus aplicaciones sean más robustas e interoperables.
{/* Auto generated, origin file hash:02cf744a3fbae09d654887c13e131157 */}