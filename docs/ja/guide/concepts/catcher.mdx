# キャッチャー

import { Tab, Tabs } from 'rspress/theme';
import CustomErrorPageCode from '../../../../codes_md/custom-error-page/src/main.mdx';
import CustomErrorPageCargoCode from '../../../../codes_md/custom-error-page/Cargo.mdx';

`Response`のステータスコードがエラーで、ページ内の`Body`が空の場合、salvoは`Catcher`を使用してこのエラーを捕捉し、ユーザーフレンドリーなエラーページを表示しようとします。

`Catcher::default()`を使用すると、システムデフォルトの`Catcher`を取得でき、それを`Service`に追加できます。

```rust
use salvo::catcher::Catcher;

Service::new(router).catcher(Catcher::default());
```

デフォルトの`Catcher`は、`XML`、`JSON`、`HTML`、`Text`形式でエラーページを送信することをサポートしています。

このデフォルトの`Catcher`に`hoop`を追加することで、カスタムエラーハンドラを`Catcher`に追加できます。このエラーハンドラも依然として`Handler`です。

`hoop`を使用して`Catcher`に複数のカスタムエラーハンドラを追加できます。カスタムエラーハンドラはエラー処理後に`FlowCtrl::skip_next`メソッドを呼び出して後続のエラーハンドラをスキップし、早期リターンすることが可能です。

<Tabs>
  <Tab label="main.rs">
    <CustomErrorPageCode/>
  </Tab>
  <Tab label="Cargo.toml">
    <CustomErrorPageCargoCode/>
  </Tab>
</Tabs>
{/* 本行由工具自动生成,原文哈希值:f904ca235acae374d6a236a1bd7a027a */}